V$(document).ready(function(){ var csrftoken=$('meta[name=csrf-token]').attr('content');var queryResults=Handlebars.templates['query-results'];$.ajaxSetup({beforeSend:function(xhr,settings){if(!/^(GET|HEAD|OPTIONS|TRACE)$/i.test(settings.type)&&!this.crossDomain){xhr.setRequestHeader("X-CSRFToken",csrftoken)}}});var query=function(evt){console.log('here');var query=$('#query').val(),data={};if(query===''){query=$('.search #brewery').val()+' '+$('.search #name').val()}\u000adata={'query':query}\u000a$('#query-results').text('Searching...');$.ajax({type:'POST',url:'/beers/query',data:JSON.stringify(data),contentType:'application/json;charset=UTF-8',success:function(results){if(results.no_hits){$('#query-results').text('Nothing to see here.');}\u000aconsole.log(results)\u000a$('#query-results').html(queryResults(results));}});console.log(data);}\u000a$('#query').on("input",$.debounce(query,500));});(function(){var template=Handlebars.template,templates=Handlebars.templates=Handlebars.templates||{};templates['query-results']=template({"1":function(depth0,helpers,partials,data){var stack1,helper,functionType="function",helperMissing=helpers.helperMissing,escapeExpression=this.escapeExpression,buffer="        <tr>\u005cn          <td style=\u005c"font-size: 1.7em;\u005c">\u005cn            <span class=\u005c"beer-name\u005c">"\u000a+escapeExpression(((helper=(helper=helpers.brewery||(depth0!=null?depth0.brewery:depth0))!=null?helper:helperMissing),(typeof helper===functionType?helper.call(depth0,{"name":"brewery","hash":{},"data":data}):helper)))\u000a+" "\u000a+escapeExpression(((helper=(helper=helpers.name||(depth0!=null?depth0.name:depth0))!=null?helper:helperMissing),(typeof helper===functionType?helper.call(depth0,{"name":"name","hash":{},"data":data}):helper)))\u000a+"</span><br/>\u005cn            <span class=\u005c"badge "\u000a+escapeExpression(((helpers.badge||(depth0&&depth0.badge)||helperMissing).call(depth0,(depth0!=null?depth0.rating:depth0),{"name":"badge","hash":{},"data":data})))\u000a+" rating\u005c"></span>\u005cn            <span class=\u005c"flag-icon flag-icon-"\u000a+escapeExpression(((helper=(helper=helpers.country||(depth0!=null?depth0.country:depth0))!=null?helper:helperMissing),(typeof helper===functionType?helper.call(depth0,{"name":"country","hash":{},"data":data}):helper)))\u000a+" flag-icon-squared\u005c"></span>\u005cn";stack1=((helpers.isStrong||(depth0&&depth0.isStrong)||helperMissing).call(depth0,(depth0!=null?depth0.abv:depth0),{"name":"isStrong","hash":{},"fn":this.program(2,data),"inverse":this.noop,"data":data}));if(stack1!=null){buffer+=stack1;}\u000areturn buffer+"          </td>\u005cn        </tr>\u005cn";},"2":function(depth0,helpers,partials,data){return"              <i class=\u005c"strong-beer fa fa-exclamation-circle\u005c"></i>\u005cn";},"compiler":[6,">= 2.0.0-beta.1"],"main":function(depth0,helpers,partials,data){var stack1,buffer="<div class=\u005c"row\u005c">\u005cn  <table style=\u005c"margin: 0 auto;\u005c">\u005cn    <thead></thead>\u005cn    <tbody>\u005cn";stack1=helpers.each.call(depth0,(depth0!=null?depth0.results:depth0),{"name":"each","hash":{},"fn":this.program(1,data),"inverse":this.noop,"data":data});if(stack1!=null){buffer+=stack1;}\u000areturn buffer+"    </tbody>\u005cn  </table>\u005cn</div>";},"useData":true});})();
p1
.